<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>web client</title>
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet"
	href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

<!-- jQuery library -->
<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

<!-- Latest compiled JavaScript -->
<script
	src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
</head>
<body>
	<nav class="navbar navbar-default">
		<div class="container-fluid">
			<div class="navbar-header">
				<a class="navbar-brand" href="#">web client</a>
			</div>
			<ul class="nav navbar-nav">
				<li><a href="/">Home</a></li>
				<li><a href="customer.html">Customer</a></li>
				<li class="active"><a href="product.html">Product</a></li>
			</ul>
		</div>
	</nav>
	<div class="container">
		<div class="panel panel-default">
			<div class="panel-heading">Products</div>
			<div class="panel-body">
				<table class="table table-striped">
					<thead>
						<tr>
							<th>Name</th>
							<th>Price</th>
							<th>Id</th>
						</tr>
					</thead>
					<tbody class="table-body">
						<tr class="customer-row">
							<td></td>
							<td></td>
							<td></td>
						</tr>
					</tbody>
				</table>
				<div id="div1"></div>
			</div>
			<div class="panel-footer">
				<a id="request-data" class="btn btn-default">Request data</a>
			</div>
		</div>
	</div>

	<script type="text/javascript">
		$("#request-data").click(function() {
			$.ajax({
				url : "http://localhost:8080/products",
				success : function(result) {
					console.log(result);
					var tbody = $(".table-body");
					var row = $(".customer-row").clone();
					tbody.empty();
					tbody.append(row);
					row.empty();
					result.forEach(function(item) {
						var tempRow = row.clone();
						$('<td></td>').text(item.name).appendTo(tempRow);
						$('<td></td>').text(item.price).appendTo(tempRow);
						$('<td></td>').text(item.id).appendTo(tempRow);
						tbody.append(tempRow);
					})
				},
				error : function(x, a, t) {
					console.log(x.status);
					console.log(x.responseText);
				}
			})
		});
	</script>
</body>
</html>